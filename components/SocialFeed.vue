<template>
  <section class="social-feed" data-st-slide_up_enter data-st-slide_up_leave>
    <div class="inner">
      <div class="header">
        <h3>@</h3>
        <ul class="social-icons">
          <li>
            <a href="https://www.twitter.com" target="_blank"
              ><svg width="34" height="28" viewBox="0 0 34 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M10.6961 27.8135C23.5231 27.8135 30.5409 17.1839 30.5409 7.96867C30.5409 7.66985 30.5343 7.36438 30.521 7.06555C31.8862 6.07827 33.0643 4.8554 34 3.45438C32.7286 4.02005 31.3787 4.3895 29.9964 4.55008C31.4518 3.67766 32.5416 2.30712 33.0637 0.692541C31.6944 1.50399 30.1971 2.0764 28.6357 2.38524C27.5837 1.26742 26.1927 0.527286 24.6779 0.279277C23.163 0.0312673 21.6087 0.289192 20.2551 1.01317C18.9016 1.73716 17.8242 2.88687 17.1896 4.28456C16.555 5.68225 16.3985 7.25008 16.7443 8.74563C13.9719 8.6065 11.2596 7.88629 8.78331 6.63168C6.30704 5.37707 4.12207 3.61607 2.37004 1.46285C1.47957 2.99813 1.20708 4.81487 1.60796 6.54383C2.00884 8.2728 3.05301 9.78426 4.52824 10.771C3.42072 10.7359 2.33747 10.4377 1.36797 9.90109V9.98742C1.36698 11.5986 1.92397 13.1604 2.94427 14.4073C3.96457 15.6542 5.38521 16.5093 6.96469 16.8273C5.93874 17.108 4.86197 17.1489 3.8177 16.9468C4.26339 18.3324 5.13056 19.5443 6.29817 20.4133C7.46579 21.2824 8.87559 21.7652 10.3308 21.7945C7.86027 23.7351 4.80841 24.7877 1.6668 24.7827C1.10966 24.7819 0.553065 24.7477 0 24.6805C3.19155 26.728 6.90417 27.8155 10.6961 27.8135Z"
                  fill="black"
                />
              </svg>
            </a>
          </li>
          <li>
            <a href="https://www.instagram.com" target="_blank"
              ><svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M17 3.06133C21.5422 3.06133 22.0801 3.08125 23.8664 3.16094C25.5266 3.23398 26.423 3.51289 27.0207 3.74531C27.8109 4.05078 28.382 4.42266 28.973 5.01367C29.5707 5.61133 29.9359 6.17578 30.2414 6.96602C30.4738 7.56367 30.7527 8.4668 30.8258 10.1203C30.9055 11.9133 30.9254 12.4512 30.9254 16.9867C30.9254 21.5289 30.9055 22.0668 30.8258 23.8531C30.7527 25.5133 30.4738 26.4098 30.2414 27.0074C29.9359 27.7977 29.5641 28.3687 28.973 28.9598C28.3754 29.5574 27.8109 29.9227 27.0207 30.2281C26.423 30.4605 25.5199 30.7395 23.8664 30.8125C22.0734 30.8922 21.5355 30.9121 17 30.9121C12.4578 30.9121 11.9199 30.8922 10.1336 30.8125C8.47344 30.7395 7.57695 30.4605 6.9793 30.2281C6.18906 29.9227 5.61797 29.5508 5.02695 28.9598C4.4293 28.3621 4.06406 27.7977 3.75859 27.0074C3.52617 26.4098 3.24727 25.5066 3.17422 23.8531C3.09453 22.0602 3.07461 21.5223 3.07461 16.9867C3.07461 12.4445 3.09453 11.9066 3.17422 10.1203C3.24727 8.46016 3.52617 7.56367 3.75859 6.96602C4.06406 6.17578 4.43594 5.60469 5.02695 5.01367C5.62461 4.41602 6.18906 4.05078 6.9793 3.74531C7.57695 3.51289 8.48008 3.23398 10.1336 3.16094C11.9199 3.08125 12.4578 3.06133 17 3.06133ZM17 0C12.3848 0 11.807 0.0199219 9.99414 0.0996094C8.18789 0.179297 6.94609 0.471484 5.87031 0.889844C4.74805 1.32812 3.79844 1.90586 2.85547 2.85547C1.90586 3.79844 1.32812 4.74805 0.889844 5.86367C0.471484 6.94609 0.179297 8.18125 0.0996094 9.9875C0.0199219 11.807 0 12.3848 0 17C0 21.6152 0.0199219 22.193 0.0996094 24.0059C0.179297 25.8121 0.471484 27.0539 0.889844 28.1297C1.32812 29.252 1.90586 30.2016 2.85547 31.1445C3.79844 32.0875 4.74805 32.6719 5.86367 33.1035C6.94609 33.5219 8.18125 33.8141 9.9875 33.8937C11.8004 33.9734 12.3781 33.9934 16.9934 33.9934C21.6086 33.9934 22.1863 33.9734 23.9992 33.8937C25.8055 33.8141 27.0473 33.5219 28.123 33.1035C29.2387 32.6719 30.1883 32.0875 31.1313 31.1445C32.0742 30.2016 32.6586 29.252 33.0902 28.1363C33.5086 27.0539 33.8008 25.8188 33.8805 24.0125C33.9602 22.1996 33.9801 21.6219 33.9801 17.0066C33.9801 12.3914 33.9602 11.8137 33.8805 10.0008C33.8008 8.19453 33.5086 6.95273 33.0902 5.87695C32.6719 4.74805 32.0941 3.79844 31.1445 2.85547C30.2016 1.9125 29.252 1.32812 28.1363 0.896484C27.0539 0.478125 25.8188 0.185938 24.0125 0.10625C22.193 0.0199219 21.6152 0 17 0Z"
                  fill="black"
                />
                <path
                  d="M17 8.26562C12.1789 8.26562 8.26758 12.177 8.26758 16.998C8.26758 21.8191 12.1789 25.7305 17 25.7305C21.8211 25.7305 25.7324 21.8191 25.7324 16.998C25.7324 12.177 21.8211 8.26562 17 8.26562ZM17 22.6625C13.8723 22.6625 11.3355 20.1258 11.3355 16.998C11.3355 13.8703 13.8723 11.3336 17 11.3336C20.1277 11.3336 22.6645 13.8703 22.6645 16.998C22.6645 20.1258 20.1277 22.6625 17 22.6625Z"
                  fill="black"
                />
                <path
                  d="M28.1164 7.92149C28.1164 9.05039 27.2 9.96016 26.0777 9.96016C24.9488 9.96016 24.0391 9.04375 24.0391 7.92149C24.0391 6.79258 24.9555 5.88281 26.0777 5.88281C27.2 5.88281 28.1164 6.79922 28.1164 7.92149Z"
                  fill="black"
                />
              </svg>
            </a>
          </li>
          <li>
            <a href="https://www.facebook.com" target="_blank"
              ><svg width="18" height="34" viewBox="0 0 18 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M16.8206 18.9806L17.7534 12.8738H11.9178V8.91262C11.9178 7.24154 12.7315 5.61165 15.3452 5.61165H18V0.412621C18 0.412621 15.5918 0 13.2904 0C8.48226 0 5.3425 2.92545 5.3425 8.21942V12.8738H0V18.9806H5.3425V33.7442C6.41506 33.9134 7.51235 34 8.63016 34C9.74797 34 10.8453 33.9134 11.9178 33.7442V18.9806H16.8206Z"
                  fill="black"
                />
              </svg>
            </a>
          </li>
        </ul>
      </div>
      <div class="grid" data-st-stagger_cards_slide_up_enter v-if="instafeed">
        <a href="" target="_blank" class="card" v-for="(data, index) in instafeed" :key="index">
          <div class="image"><img :src="data.media_url" :alt="data.caption" /></div>
        </a>
      </div>
    </div>
  </section>
</template>

<script>
import axios from 'axios'

export default {
  data() {
    return {
      token:
        'IGQVJVSmNhUkU5dzBfc1N4czlTVENBaTBlZAUZArM3hidmFGc1VTRW1jZAHlueGVhcVY0cUtxRXJuWC1xSmVUcElPT1NHQzhGY0VhU25qS3lEUGhaSldVUEtxUHFDMk5HZAFU0NmNIY0hUeEppZAE9LRGhBRQZDZD',
      instafeed: null,
    }
  },
  mounted() {},
  created() {
    this.getInsta()
  },
  methods: {
    getInsta() {
      axios
        .get(`https://graph.instagram.com/me/media?fields=id,caption,media_type,media_url&access_token=${this.token}`)
        .then(response => {
          this.instafeed = response.data.data
          console.log(response)
        })
    },
  },
}
</script>

<style lang="scss" scoped>
.social-feed {
  padding: 0 10px 5px;

  .inner {
    .header {
      position: relative;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      padding-top: 9vw;

      @include breakpoint(small) {
        padding-top: 50px;
      }

      h3 {
        position: relative;
        z-index: 1;
        left: 8vw;
        @include font-maelstrom;
        font-size: 490px;
        line-height: 0.33;
        margin: 0;

        @include breakpoint(xlarge) {
          font-size: 34vw;
        }

        @include breakpoint(small) {
          font-size: 290px;
          left: -60px;
        }
      }

      ul.social-icons {
        display: flex;
        align-items: center;
        margin: 0 6vw 40px;

        @include breakpoint(small) {
          margin: 0 0 40px;
          position: absolute;
          right: -10px;
        }

        li {
          margin: 0 20px;
          a {
            display: block;

            &:hover {
              svg {
                top: -3px;
              }
            }

            svg {
              position: relative;
              top: 0;
              pointer-events: none;
              transition: 0.25s top;
            }
          }
        }
      }
    }
    .grid {
      position: relative;
      display: flex;
      flex-wrap: wrap;
      width: calc(100% + 10px);
      left: -5px;

      .card {
        width: 25%;
        height: 381px;
        padding: 5px;

        @include breakpoint(maxlarge) {
          width: 25%;
          height: 23.87vw;
        }

        @include breakpoint(medium) {
          width: 33.333333;
          height: 30.8vw;
        }

        @include breakpoint(small) {
          width: 50%;
          height: 47vw;
        }

        .image {
          position: relative;
          width: 100%;
          height: 100%;
          border: 1px solid $black;
          box-sizing: border-box;

          img {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover;
          }
        }
      }
    }
  }
}
</style>
